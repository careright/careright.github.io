<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: TriggerWrappers::Episode
  
    &mdash; Documentation by YARD 0.9.34
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "TriggerWrappers::Episode";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (E)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../TriggerWrappers.html" title="TriggerWrappers (module)">TriggerWrappers</a></span></span>
     &raquo; 
    <span class="title">Episode</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: TriggerWrappers::Episode
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="ActiveRecordBase.html" title="TriggerWrappers::ActiveRecordBase (class)">ActiveRecordBase</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Base.html" title="TriggerWrappers::Base (class)">Base</a></span></li>
          
            <li class="next"><span class='object_link'><a href="ActiveRecordBase.html" title="TriggerWrappers::ActiveRecordBase (class)">ActiveRecordBase</a></span></li>
          
            <li class="next">TriggerWrappers::Episode</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/models/trigger_wrappers/episode.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Represents an Episode of Care.  Every Admission normally has exactly one Episode.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_additional_diagnosis-instance_method" title="#add_additional_diagnosis (instance method)">#<strong>add_additional_diagnosis</strong>(code, condition_onset, priority = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets an additional diagnosis of this episode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_diagnosis-instance_method" title="#add_diagnosis (instance method)">#<strong>add_diagnosis</strong>(code, condition_onset, options = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a diagnosis to this episode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_procedure-instance_method" title="#add_procedure (instance method)">#<strong>add_procedure</strong>(code, priority = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a procedure to this episode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#admission-instance_method" title="#admission (instance method)">#<strong>admission</strong>  &#x21d2; Admission </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the Admission record which this episode belongs to.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#admitting_doctor-instance_method" title="#admitting_doctor (instance method)">#<strong>admitting_doctor</strong>  &#x21d2; StaffMember, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the admitting doctor for this episode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#admitting_doctor=-instance_method" title="#admitting_doctor= (instance method)">#<strong>admitting_doctor=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Replaces the admitting doctor for this episode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#apply_diagnosis_codes-instance_method" title="#apply_diagnosis_codes (instance method)">#<strong>apply_diagnosis_codes</strong>(codes, options = {})  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Applies a set of diagnosis codes to this episode, appending or replacing the existing list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#apply_mbs_codes-instance_method" title="#apply_mbs_codes (instance method)">#<strong>apply_mbs_codes</strong>(codes, options = {})  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Applies a set of MBS codes to this episode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#apply_procedure_codes-instance_method" title="#apply_procedure_codes (instance method)">#<strong>apply_procedure_codes</strong>(codes, options = {})  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Applies a set of procedure codes to this episode, appending or replacing the existing list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attending_doctor-instance_method" title="#attending_doctor (instance method)">#<strong>attending_doctor</strong>  &#x21d2; StaffMember, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the attending doctor for this episode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attending_doctor=-instance_method" title="#attending_doctor= (instance method)">#<strong>attending_doctor=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Replaces the attending doctor for this episode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_primary_diagnosis-instance_method" title="#set_primary_diagnosis (instance method)">#<strong>set_primary_diagnosis</strong>(code, condition_onset)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the primary/principal diagnosis of this episode.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="ActiveRecordBase.html" title="TriggerWrappers::ActiveRecordBase (class)">ActiveRecordBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ActiveRecordBase.html#[]-instance_method" title="TriggerWrappers::ActiveRecordBase#[] (method)">#[]</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#[]=-instance_method" title="TriggerWrappers::ActiveRecordBase#[]= (method)">#[]=</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#add_error-instance_method" title="TriggerWrappers::ActiveRecordBase#add_error (method)">#add_error</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#box_layout-instance_method" title="TriggerWrappers::ActiveRecordBase#box_layout (method)">#box_layout</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#class_name-instance_method" title="TriggerWrappers::ActiveRecordBase#class_name (method)">#class_name</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#error_messages-instance_method" title="TriggerWrappers::ActiveRecordBase#error_messages (method)">#error_messages</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#errors-instance_method" title="TriggerWrappers::ActiveRecordBase#errors (method)">#errors</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#id-instance_method" title="TriggerWrappers::ActiveRecordBase#id (method)">#id</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#initialize-instance_method" title="TriggerWrappers::ActiveRecordBase#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#inspect-instance_method" title="TriggerWrappers::ActiveRecordBase#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#is_new-instance_method" title="TriggerWrappers::ActiveRecordBase#is_new (method)">#is_new</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#method_missing-instance_method" title="TriggerWrappers::ActiveRecordBase#method_missing (method)">#method_missing</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#respond_to_missing%3F-instance_method" title="TriggerWrappers::ActiveRecordBase#respond_to_missing? (method)">#respond_to_missing?</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#save-instance_method" title="TriggerWrappers::ActiveRecordBase#save (method)">#save</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#strip_diagnosis_procedure_code-instance_method" title="TriggerWrappers::ActiveRecordBase#strip_diagnosis_procedure_code (method)">#strip_diagnosis_procedure_code</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#to_s-instance_method" title="TriggerWrappers::ActiveRecordBase#to_s (method)">#to_s</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Base.html" title="TriggerWrappers::Base (class)">Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Base.html#initialize-instance_method" title="TriggerWrappers::Base#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="Base.html#to_s-instance_method" title="TriggerWrappers::Base#to_s (method)">#to_s</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="ActiveRecordBase.html#initialize-instance_method" title="TriggerWrappers::ActiveRecordBase#initialize (method)">TriggerWrappers::ActiveRecordBase</a></span></p>
  
</div>
<div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <span class='object_link'><a href="ActiveRecordBase.html#method_missing-instance_method" title="TriggerWrappers::ActiveRecordBase#method_missing (method)">TriggerWrappers::ActiveRecordBase</a></span>
    
  </p>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_additional_diagnosis-instance_method">
  
    #<strong>add_additional_diagnosis</strong>(code, condition_onset, priority = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets an additional diagnosis of this episode.</p>

<p>Valid condition onset flags can be seen &lt;a href=“/admin/statutory_coding/condition_onset_flag”&gt;here&lt;/a&gt;.</p>

<p>If priority is not given, the next free priority will be assigned.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>code</span>
      
      
        <span class='type'>(<tt>EpisodeDiagnosisCode or String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>ICD.D code of the diagnosis</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>condition_onset</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the diagnosis was successfully added</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_diagnosis-instance_method">
  
    #<strong>add_diagnosis</strong>(code, condition_onset, options = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a diagnosis to this episode.</p>

<p>Valid condition onset flags can be seen &lt;a href=“/admin/statutory_coding/condition_onset_flag”&gt;here&lt;/a&gt;.</p>

<p>Options is an optional object with the following properties: &lt;ul&gt; &lt;li&gt;<code>priority</code> - Numeric priority (1 for principal diagnosis)&lt;/li&gt; &lt;li&gt;<code>diagnosis_type</code> - Diagnosis type code (default 1 or 4)&lt;/li&gt; &lt;/ul&gt;</p>

<p>Valid diagnosis type codes can be seen &lt;a href=“/admin/statutory_coding/diagnosis_type”&gt;here&lt;/a&gt;.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>code</span>
      
      
        <span class='type'>(<tt>EpisodeDiagnosisCode or String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>ICD.D code of the diagnosis</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>condition_onset</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the diagnosis was successfully added</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_procedure-instance_method">
  
    #<strong>add_procedure</strong>(code, priority = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a procedure to this episode.</p>

<p>If priority is not supplied, the next available priority will be used.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>code</span>
      
      
        <span class='type'>(<tt>EpisodeProcedureCode or String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>ICD.P code of the procedure</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>priority</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the procedure was successfully added</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="admission-instance_method">
  
    #<strong>admission</strong>  &#x21d2; <tt><span class='object_link'><a href="Admission.html" title="TriggerWrappers::Admission (class)">Admission</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the Admission record which this episode belongs to</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Admission.html" title="TriggerWrappers::Admission (class)">Admission</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="admitting_doctor-instance_method">
  
    #<strong>admitting_doctor</strong>  &#x21d2; <tt><span class='object_link'><a href="StaffMember.html" title="TriggerWrappers::StaffMember (class)">StaffMember</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the admitting doctor for this episode.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="StaffMember.html" title="TriggerWrappers::StaffMember (class)">StaffMember</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if no admitting doctor recorded.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="admitting_doctor=-instance_method">
  
    #<strong>admitting_doctor=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Replaces the admitting doctor for this episode.  The parameter must be something that can be convertered to a <code>StaffMember</code>; either a <code>MedicalProvider</code>, <code>Provider</code>, <code>StaffMember</code>, or an integer or string containing the ID of a <code>StaffMember</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="apply_diagnosis_codes-instance_method">
  
    #<strong>apply_diagnosis_codes</strong>(codes, options = {})  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Applies a set of diagnosis codes to this episode, appending or replacing the existing list.</p>

<p><code>codes</code> is a string or array of string. If a string the string is converted to an array by splitting on whitespace. Each string in the array should be an ICD.D code from the configured list of codes allowed for Episode Diagnoses (Admin &gt; Admission &gt; Episode Diagnoses) and must be valid at the date of discharge of this episode&#39;s admission.</p>

<p>The strings will be stripped of whitespace and any blank strings removed. Empty arrays are supported. in which case the options will still apply below allowing for deletion of all codes.</p>

<p>If any of the strings are not a valid and whitelisted ICD.D codes the method will return false.</p>

<p>Valid options are: &lt;ul&gt; &lt;li&gt;<code>includes_primary</code> (boolean, default true) - if true the</p>

<pre class="code ruby"><code class="ruby">first diagnosis code is set as the primary diagnosis code.&lt;/li&gt;
</code></pre>

<p>&lt;li&gt;<code>overwrite</code> (boolean, default true) - if true delete all</p>

<pre class="code ruby"><code class="ruby">previous diagnosis codes. if the option includes_primary is set then
the primary diagnosis will be deleted.&lt;/li&gt;
</code></pre>

<p>&lt;li&gt;<code>condition_onset</code> (string, default 2) Condition onset flag</p>

<pre class="code ruby"><code class="ruby">to apply to the diagnoses.&lt;/li&gt;
</code></pre>

<p>&lt;/ul&gt;</p>

<p>Valid condition onset flags can be seen &lt;a href=“/admin/statutory_coding/condition_onset_flag”&gt;here&lt;/a&gt;.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>codes</span>
      
      
        <span class='type'>(<tt>String or Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of ICD.D codes</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if all codes were successfully added</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="apply_mbs_codes-instance_method">
  
    #<strong>apply_mbs_codes</strong>(codes, options = {})  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Applies a set of MBS codes to this episode.</p>

<p><code>codes</code> is a string or array of string. if a string the string is converted to an array by splitting on whitespace.  Each string in the array should be an MBS code.</p>

<p>The strings will be stripped of whitespace and any blank strings removed. Empty arrays are supported. in which case the options will still apply below allowing for deletion of all codes.</p>

<p>options is an optional object with the following properties: &lt;ul&gt; &lt;li&gt;overwrite&lt;/code&gt; (boolean, default true) - if true delete all previous</p>

<pre class="code ruby"><code class="ruby">mbs codes.&lt;/li&gt;
</code></pre>

<p>&lt;li&gt;<code>date</code> (date, default current date): The date to use for</p>

<pre class="code ruby"><code class="ruby">the mbs items.&lt;/li&gt;
</code></pre>

<p>&lt;/ul&gt;</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>codes</span>
      
      
        <span class='type'>(<tt>String or Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><ul><li>
<p>list of MBS codes</p>
</li></ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><ul><li>
<p>true if all codes were successfully added</p>
</li></ul>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="apply_procedure_codes-instance_method">
  
    #<strong>apply_procedure_codes</strong>(codes, options = {})  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Applies a set of procedure codes to this episode, appending or replacing the existing list.</p>

<p><code>codes</code> is a string or array of string. If a string the string is converted to an array by splitting on whitespace. Each string in the array should be an ICD.P code from the configured list of codes allowed for Episode Diagnoses (Admin &gt; Admission &gt; Episode Procedures) and must be valid at the date of discharge of this episode&#39;s admission.</p>

<p>The strings will be stripped of whitespace and any blank strings removed. Empty arrays are supported. in which case the options will still apply below allowing for deletion of all codes.</p>

<p>If any of the strings are not a valid and whitelisted ICD.P codes the method will return false.</p>

<p>Valid options are: &lt;ul&gt; &lt;li&gt;<code>overwrite</code> (boolean, default true) - if true delete all</p>

<pre class="code ruby"><code class="ruby">previous procedure codes.&lt;/li&gt;
</code></pre>

<p>&lt;/ul&gt;</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>codes</span>
      
      
        <span class='type'>(<tt>String or Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of ICD.P codes</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if all codes were successfully added</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="attending_doctor-instance_method">
  
    #<strong>attending_doctor</strong>  &#x21d2; <tt><span class='object_link'><a href="StaffMember.html" title="TriggerWrappers::StaffMember (class)">StaffMember</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the attending doctor for this episode.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="StaffMember.html" title="TriggerWrappers::StaffMember (class)">StaffMember</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if no attending doctor recorded.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="attending_doctor=-instance_method">
  
    #<strong>attending_doctor=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Replaces the attending doctor for this episode.  The parameter must be something that can be convertered to a <code>StaffMember</code>; either a <code>MedicalProvider</code>, <code>Provider</code>, <code>StaffMember</code>, or an integer or string containing the ID of a <code>StaffMember</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_primary_diagnosis-instance_method">
  
    #<strong>set_primary_diagnosis</strong>(code, condition_onset)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the primary/principal diagnosis of this episode.</p>

<p>Valid condition onset flags can be seen &lt;a href=“/admin/statutory_coding/condition_onset_flag”&gt;here&lt;/a&gt;.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>code</span>
      
      
        <span class='type'>(<tt>EpisodeDiagnosisCode or String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>ICD.D code of the diagnosis</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>condition_onset</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the diagnosis was successfully added</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
  </div>

</div>

      

    </div>
  </body>
</html>