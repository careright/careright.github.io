<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: TriggerWrappers::Patient
  
    &mdash; Documentation by YARD 0.9.34
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "TriggerWrappers::Patient";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../TriggerWrappers.html" title="TriggerWrappers (module)">TriggerWrappers</a></span></span>
     &raquo; 
    <span class="title">Patient</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: TriggerWrappers::Patient
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="ActiveRecordBase.html" title="TriggerWrappers::ActiveRecordBase (class)">ActiveRecordBase</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Base.html" title="TriggerWrappers::Base (class)">Base</a></span></li>
          
            <li class="next"><span class='object_link'><a href="ActiveRecordBase.html" title="TriggerWrappers::ActiveRecordBase (class)">ActiveRecordBase</a></span></li>
          
            <li class="next">TriggerWrappers::Patient</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/models/trigger_wrappers/patient.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Represents a patient record.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_assessment-instance_method" title="#add_assessment (instance method)">#<strong>add_assessment</strong>(name, version = nil, options = nil)  &#x21d2; CurrentAssessment, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add the named assessment to the current patient object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_case-instance_method" title="#add_case (instance method)">#<strong>add_case</strong>(category_or_category_name, location)  &#x21d2; Case </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a case to the patient record.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_entitlement-instance_method" title="#add_entitlement (instance method)">#<strong>add_entitlement</strong>(category_id, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a new Entitlement for a given Entitlement Category.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_event-instance_method" title="#add_event (instance method)">#<strong>add_event</strong>(params)  &#x21d2; Event, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds and saves an event to the patient&#39;s record.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_professional_contact-instance_method" title="#add_professional_contact (instance method)">#<strong>add_professional_contact</strong>(professional_contact, medical_provider)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a professional contact to the patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_wait_list_item-instance_method" title="#add_wait_list_item (instance method)">#<strong>add_wait_list_item</strong>(provider, appointment_type, priority, duration, preferred_booking, note, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a waiting list appointment.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_workflow_model-instance_method" title="#add_workflow_model (instance method)">#<strong>add_workflow_model</strong>(name, state, version = nil)  &#x21d2; WorkflowModelInstance, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds the named workflow to the current patient object in the specified state.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#address_invoice-instance_method" title="#address_invoice (instance method)">#<strong>address_invoice</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s address as a multiline string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#appointment_count-instance_method" title="#appointment_count (instance method)">#<strong>appointment_count</strong>(options = {})  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a count of appointments for this patient, optionally filtered.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cases-instance_method" title="#cases (instance method)">#<strong>cases</strong>(filter = nil)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of cases for this patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#country_of_birth_description-instance_method" title="#country_of_birth_description (instance method)">#<strong>country_of_birth_description</strong>  &#x21d2; String, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the name of the patient&#39;s country of birth.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_letter-instance_method" title="#create_letter (instance method)">#<strong>create_letter</strong>(options = {})  &#x21d2; Letter </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a letter for this patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_notice-instance_method" title="#create_notice (instance method)">#<strong>create_notice</strong>(code)  &#x21d2; AlertNotice, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new unsaved notice for this patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_task-instance_method" title="#create_task (instance method)">#<strong>create_task</strong>(task_type_code)  &#x21d2; Task </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a task for the patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_admission-instance_method" title="#current_admission (instance method)">#<strong>current_admission</strong>  &#x21d2; Admission, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s current admission.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_age_in_years-instance_method" title="#current_age_in_years (instance method)">#<strong>current_age_in_years</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Calculates the patient&#39;s current age in years.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_assessments-instance_method" title="#current_assessments (instance method)">#<strong>current_assessments</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array containing CurrentAssessment class objects representing all the assessments attached to the patient record.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_episode-instance_method" title="#current_episode (instance method)">#<strong>current_episode</strong>  &#x21d2; Episode, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s current episode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#date_of_death_box_layout-instance_method" title="#date_of_death_box_layout (instance method)">#<strong>date_of_death_box_layout</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_account_flag-instance_method" title="#default_account_flag (instance method)">#<strong>default_account_flag</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s default account flag.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_account_flag=-instance_method" title="#default_account_flag= (instance method)">#<strong>default_account_flag=</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the patient&#39;s default account flag to the named flag.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#display_name-instance_method" title="#display_name (instance method)">#<strong>display_name</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s name for display purposes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#display_sex-instance_method" title="#display_sex (instance method)">#<strong>display_sex</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a text code of the patient&#39;s sex.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dob_box_layout-instance_method" title="#dob_box_layout (instance method)">#<strong>dob_box_layout</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#entitlements-instance_method" title="#entitlements (instance method)">#<strong>entitlements</strong>(category_id = nil)  &#x21d2; Entitlement </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Provide a list of Entitlements for the Patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#events-instance_method" title="#events (instance method)">#<strong>events</strong>(options = {})  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a list of unbilled events attached to this patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#express_form-instance_method" title="#express_form (instance method)">#<strong>express_form</strong>(name)  &#x21d2; CurrentAssessment </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Loads or creates an express form for the patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fax_number-instance_method" title="#fax_number (instance method)">#<strong>fax_number</strong>  &#x21d2; String, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s fax number.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_notice-instance_method" title="#find_notice (instance method)">#<strong>find_notice</strong>(code)  &#x21d2; AlertNotice </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Find a notice on this patient by code.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_or_build_patient_account-instance_method" title="#find_or_build_patient_account (instance method)">#<strong>find_or_build_patient_account</strong>(location, guarantor, medical_provider, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_or_build_primary_health_fund-instance_method" title="#find_or_build_primary_health_fund (instance method)">#<strong>find_or_build_primary_health_fund</strong>(_fake_param_for_rubyracer)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the primary health fund if it exists, or builds a new one.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_or_create_patient_account-instance_method" title="#find_or_create_patient_account (instance method)">#<strong>find_or_create_patient_account</strong>(location, guarantor, medical_provider, options = {})  &#x21d2; PatientAccount, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finds a patient account, creating it if it doesn&#39;t already exists.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_patient_account-instance_method" title="#find_patient_account (instance method)">#<strong>find_patient_account</strong>(location, guarantor, medical_provider, options = {})  &#x21d2; PatientAccount, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finds a patient account for the supplied provider/location/guarantor.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_referral-instance_method" title="#find_referral (instance method)">#<strong>find_referral</strong>(options = {})  &#x21d2; Referral, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finds an in referral for this patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#guarantor-instance_method" title="#guarantor (instance method)">#<strong>guarantor</strong>  &#x21d2; Guarantor </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s guarantor.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_active_referral-instance_method" title="#has_active_referral (instance method)">#<strong>has_active_referral</strong>(medical_provider)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if the patient has a valid medical referral for this medical provider.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_mailing_address-instance_method" title="#has_mailing_address (instance method)">#<strong>has_mailing_address</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if the patient has a postal address.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#healthcare_fund_commenced-instance_method" title="#healthcare_fund_commenced (instance method)">#<strong>healthcare_fund_commenced</strong>  &#x21d2; Date </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the commenced date of patient primary health fund.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#healthcare_fund_cover-instance_method" title="#healthcare_fund_cover (instance method)">#<strong>healthcare_fund_cover</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the fund cover of patient primary health fund.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#healthcare_fund_end_date-instance_method" title="#healthcare_fund_end_date (instance method)">#<strong>healthcare_fund_end_date</strong>  &#x21d2; Date </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the end date of patient primary health fund.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#healthcare_fund_id-instance_method" title="#healthcare_fund_id (instance method)">#<strong>healthcare_fund_id</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the id of patient primary health fund.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#healthcare_fund_irn-instance_method" title="#healthcare_fund_irn (instance method)">#<strong>healthcare_fund_irn</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the member irn of patient primary health fund.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#healthcare_fund_member_number-instance_method" title="#healthcare_fund_member_number (instance method)">#<strong>healthcare_fund_member_number</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the member number of patient primary health fund.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#healthcare_fund_notes-instance_method" title="#healthcare_fund_notes (instance method)">#<strong>healthcare_fund_notes</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the notes of patient primary health fund.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#home_address-instance_method" title="#home_address (instance method)">#<strong>home_address</strong>  &#x21d2; Address </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s home address.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#home_phone_number-instance_method" title="#home_phone_number (instance method)">#<strong>home_phone_number</strong>  &#x21d2; String, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s home phone number.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_admitted-instance_method" title="#is_admitted (instance method)">#<strong>is_admitted</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if the patient is currently admitted.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line_items-instance_method" title="#line_items (instance method)">#<strong>line_items</strong>(options = {})  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of invoice line items belonging to this patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#location-instance_method" title="#location (instance method)">#<strong>location</strong>  &#x21d2; Location, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s location.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mobile_phone_number-instance_method" title="#mobile_phone_number (instance method)">#<strong>mobile_phone_number</strong>  &#x21d2; String, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s mobile phone number.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#occupation_description-instance_method" title="#occupation_description (instance method)">#<strong>occupation_description</strong>  &#x21d2; String, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the description of the patient&#39;s occupation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#patient_accounts-instance_method" title="#patient_accounts (instance method)">#<strong>patient_accounts</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of accounts belonging to this patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#person-instance_method" title="#person (instance method)">#<strong>person</strong>  &#x21d2; Patient </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the person record for this patient - this contains things like the patient&#39;s first and last name and so on.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#postal_address-instance_method" title="#postal_address (instance method)">#<strong>postal_address</strong>  &#x21d2; Address </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s postal address.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#provider-instance_method" title="#provider (instance method)">#<strong>provider</strong>  &#x21d2; Provider, null </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the patient&#39;s primary provider.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_dob-instance_method" title="#pt_dob (instance method)">#<strong>pt_dob</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_mcare_no-instance_method" title="#pt_mcare_no (instance method)">#<strong>pt_mcare_no</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_mcare_ref_no-instance_method" title="#pt_mcare_ref_no (instance method)">#<strong>pt_mcare_ref_no</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_numb-instance_method" title="#pt_numb (instance method)">#<strong>pt_numb</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_phone-instance_method" title="#pt_phone (instance method)">#<strong>pt_phone</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_postcode-instance_method" title="#pt_postcode (instance method)">#<strong>pt_postcode</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a single line postal postcode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_res_postcode-instance_method" title="#pt_res_postcode (instance method)">#<strong>pt_res_postcode</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the home postcode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_res_state-instance_method" title="#pt_res_state (instance method)">#<strong>pt_res_state</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the home state.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_res_street-instance_method" title="#pt_res_street (instance method)">#<strong>pt_res_street</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a single line home address.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_res_town-instance_method" title="#pt_res_town (instance method)">#<strong>pt_res_town</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the home suburb.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_state-instance_method" title="#pt_state (instance method)">#<strong>pt_state</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a single line postal state.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_street-instance_method" title="#pt_street (instance method)">#<strong>pt_street</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a single line postal address.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_town-instance_method" title="#pt_town (instance method)">#<strong>pt_town</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a single line postal suburb.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pt_vet_number-instance_method" title="#pt_vet_number (instance method)">#<strong>pt_vet_number</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#record_measurement-instance_method" title="#record_measurement (instance method)">#<strong>record_measurement</strong>(metric_name, value1, value2, value3, value4)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Records a measurement for this patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_letter-instance_method" title="#send_letter (instance method)">#<strong>send_letter</strong>(location, letter_template, send)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_sms-instance_method" title="#send_sms (instance method)">#<strong>send_sms</strong>(location, message_type, date = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sends an SMS to the patient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_facility-instance_method" title="#set_facility (instance method)">#<strong>set_facility</strong>(location)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the facility (location) on the patient record.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#share_assessment_to_patient-instance_method" title="#share_assessment_to_patient (instance method)">#<strong>share_assessment_to_patient</strong>(assessment_name, share_method, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>if (patient.share_assessment_to_patient(“sample_assessmnet”, “Email”)){     alert(“Assessment shared”);   }else{     script.fatal(&#39;Error share assessment&#39;);   }.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sms_consent-instance_method" title="#sms_consent (instance method)">#<strong>sms_consent</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if the patient is allowed to be contacted by SMS for clinical correspondence.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#suggest_assessment-instance_method" title="#suggest_assessment (instance method)">#<strong>suggest_assessment</strong>(name, version = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds the named assessment to the current patient object as a suggested assessment.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#suggested_assessments-instance_method" title="#suggested_assessments (instance method)">#<strong>suggested_assessments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>version method.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="ActiveRecordBase.html" title="TriggerWrappers::ActiveRecordBase (class)">ActiveRecordBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ActiveRecordBase.html#[]-instance_method" title="TriggerWrappers::ActiveRecordBase#[] (method)">#[]</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#[]=-instance_method" title="TriggerWrappers::ActiveRecordBase#[]= (method)">#[]=</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#add_error-instance_method" title="TriggerWrappers::ActiveRecordBase#add_error (method)">#add_error</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#box_layout-instance_method" title="TriggerWrappers::ActiveRecordBase#box_layout (method)">#box_layout</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#class_name-instance_method" title="TriggerWrappers::ActiveRecordBase#class_name (method)">#class_name</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#error_messages-instance_method" title="TriggerWrappers::ActiveRecordBase#error_messages (method)">#error_messages</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#errors-instance_method" title="TriggerWrappers::ActiveRecordBase#errors (method)">#errors</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#id-instance_method" title="TriggerWrappers::ActiveRecordBase#id (method)">#id</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#initialize-instance_method" title="TriggerWrappers::ActiveRecordBase#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#inspect-instance_method" title="TriggerWrappers::ActiveRecordBase#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#is_new-instance_method" title="TriggerWrappers::ActiveRecordBase#is_new (method)">#is_new</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#method_missing-instance_method" title="TriggerWrappers::ActiveRecordBase#method_missing (method)">#method_missing</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#respond_to_missing%3F-instance_method" title="TriggerWrappers::ActiveRecordBase#respond_to_missing? (method)">#respond_to_missing?</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#save-instance_method" title="TriggerWrappers::ActiveRecordBase#save (method)">#save</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#strip_diagnosis_procedure_code-instance_method" title="TriggerWrappers::ActiveRecordBase#strip_diagnosis_procedure_code (method)">#strip_diagnosis_procedure_code</a></span>, <span class='object_link'><a href="ActiveRecordBase.html#to_s-instance_method" title="TriggerWrappers::ActiveRecordBase#to_s (method)">#to_s</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Base.html" title="TriggerWrappers::Base (class)">Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Base.html#initialize-instance_method" title="TriggerWrappers::Base#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="Base.html#to_s-instance_method" title="TriggerWrappers::Base#to_s (method)">#to_s</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="ActiveRecordBase.html#initialize-instance_method" title="TriggerWrappers::ActiveRecordBase#initialize (method)">TriggerWrappers::ActiveRecordBase</a></span></p>
  
</div>
<div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <span class='object_link'><a href="ActiveRecordBase.html#method_missing-instance_method" title="TriggerWrappers::ActiveRecordBase#method_missing (method)">TriggerWrappers::ActiveRecordBase</a></span>
    
  </p>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_assessment-instance_method">
  
    #<strong>add_assessment</strong>(name, version = nil, options = nil)  &#x21d2; <tt><span class='object_link'><a href="CurrentAssessment.html" title="TriggerWrappers::CurrentAssessment (class)">CurrentAssessment</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add the named assessment to the current patient object. If no version is specified then the highest published and enabled version of the assessment is added to the patient.</p>

<p><code>options</code> is a javascript object of optional parameters. Currently the only parameter is performed_by_user which takes a User object and will be set as the user to perform the assessment.</p>

<p>Note the returned object is not saved and will only be saved if the patient object saves successfully.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>// Allocate new assessment to staff member
// Get the Assessment
var patient = assessment.current_assessment.patient
var case_worker = assessment.case_worker.user

if (patient) {
  console.log(patient);
  console.log(assessment);

  // Launch form
  var result = patient.add_assessment(&#39;CM002&#39;, undefined, { performed_by_user: case_worker })
  // Return message of message_success or message_failure
  if (result) {
    console.log(&quot;success&quot;);
  } else {
    // Error Message
    console.log(&quot;failed to run add assessment - staff member &quot;+case_worker);
  }
} else {
  console.log(&quot;failed - staff member is blank: &quot;+case_worker);
}</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of assessment</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>version</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>version (default is latest published and enabled)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CurrentAssessment.html" title="TriggerWrappers::CurrentAssessment (class)">CurrentAssessment</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if assessment could not be added</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_case-instance_method">
  
    #<strong>add_case</strong>(category_or_category_name, location)  &#x21d2; <tt><span class='object_link'><a href="Case.html" title="TriggerWrappers::Case (class)">Case</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a case to the patient record.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>category_or_category_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or [Integer]</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>location</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Location.html" title="TriggerWrappers::Location (class)">Location</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or name or ID of a location</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Case.html" title="TriggerWrappers::Case (class)">Case</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_entitlement-instance_method">
  
    #<strong>add_entitlement</strong>(category_id, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a new Entitlement for a given Entitlement Category</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>var currentTime = new Date();
patient.add_entitlement(2, { start_date: currentTime, total: 122, current: 112 })</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>category_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>Entitlement or null</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_event-instance_method">
  
    #<strong>add_event</strong>(params)  &#x21d2; <tt><span class='object_link'><a href="Event.html" title="TriggerWrappers::Event (class)">Event</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds and saves an event to the patient&#39;s record.</p>

<p><code>params</code> is an object containing the following properties: &lt;ul&gt; &lt;li&gt;start_date [DateTime]&lt;/li&gt; &lt;li&gt;end_date [DateTime]&lt;/li&gt; &lt;li&gt;staff_member [StaffMember]&lt;/li&gt; &lt;li&gt;service_location [ServiceLocation]&lt;/li&gt; &lt;li&gt;location [Location]&lt;/li&gt; &lt;li&gt;Patient Account [PatientAccount] &lt;li&gt;case [Case]&lt;/li&gt; &lt;/ul&gt;</p>

<p>Only one of <code>location</code> and <code>service_location</code> should be provided.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Event.html" title="TriggerWrappers::Event (class)">Event</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if event creation fails</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_professional_contact-instance_method">
  
    #<strong>add_professional_contact</strong>(professional_contact, medical_provider)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a professional contact to the patient.  The contact is saved automatically.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>professional_contact</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ProfessionalContact.html" title="TriggerWrappers::ProfessionalContact (class)">ProfessionalContact</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>medical_provider</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MedicalProvider.html" title="TriggerWrappers::MedicalProvider (class)">MedicalProvider</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the professional contact was saved</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_wait_list_item-instance_method">
  
    #<strong>add_wait_list_item</strong>(provider, appointment_type, priority, duration, preferred_booking, note, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a waiting list appointment.</p>

<p>The <code>options</code> object can contain the following optional properties: &lt;ul&gt; &lt;li&gt;<code>case</code> [Case] or ID of a case&lt;/li&gt; &lt;/ul&gt;</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>provider</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Provider.html" title="TriggerWrappers::Provider (class)">Provider</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or [StaffMember] or Provider ID</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>appointment_type</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Appointment.html" title="TriggerWrappers::Appointment (class)">Appointment</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or ID or Code of an appointment type</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>priority</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>duration</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>(in minutes)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>preferred_booking</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>note</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_workflow_model-instance_method">
  
    #<strong>add_workflow_model</strong>(name, state, version = nil)  &#x21d2; <tt><span class='object_link'><a href="WorkflowModelInstance.html" title="TriggerWrappers::WorkflowModelInstance (class)">WorkflowModelInstance</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds the named workflow to the current patient object in the specified state. If no version is specified then the highest published and enabled version of the assessment is added to the patient.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_var'>var</span> <span class='id identifier rubyid_patient'>patient</span> <span class='op'>=</span> <span class='id identifier rubyid_assessment'>assessment</span><span class='period'>.</span><span class='id identifier rubyid_current_assessment'>current_assessment</span><span class='period'>.</span><span class='id identifier rubyid_patient'>patient</span>
<span class='id identifier rubyid_var'>var</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_patient'>patient</span><span class='period'>.</span><span class='id identifier rubyid_add_workflow_model'>add_workflow_model</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Onboarding</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>new</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_undefined'>undefined</span><span class='rparen'>)</span><span class='semicolon'>;</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of the workflow model</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>state</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>starting state of the model</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>version</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>optional version of the workflow model</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="WorkflowModelInstance.html" title="TriggerWrappers::WorkflowModelInstance (class)">WorkflowModelInstance</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the instance could not be created</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="address_invoice-instance_method">
  
    #<strong>address_invoice</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s address as a multiline string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="appointment_count-instance_method">
  
    #<strong>appointment_count</strong>(options = {})  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a count of appointments for this patient, optionally filtered.</p>

<p>Valid properties in <code>options</code> are: &lt;ul&gt; &lt;li&gt;<code>condition</code> one of the following:</p>

<pre class="code ruby"><code class="ruby">&lt;ul&gt;
&lt;li&gt;&lt;code&gt;U&lt;/code&gt; limit to unconfirmed appointments&lt;/li&gt;
&lt;li&gt;&lt;code&gt;X&lt;/code&gt; limit to cancelled appointments&lt;/li&gt;
&lt;li&gt;&lt;code&gt;D&lt;/code&gt; limit to completed appointments&lt;/li&gt;
&lt;li&gt;&lt;code&gt;D&lt;/code&gt; limit to conrfirmed appointments&lt;/li&gt;
&lt;li&gt;&lt;code&gt;true&lt;/code&gt; limit to unconfirmed or confirmed appointments&lt;/li&gt;
&lt;li&gt;&lt;code&gt;false&lt;/code&gt; limit to cancelled or complete appointments&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>&lt;/li&gt; &lt;li&gt;<code>case</code> [Case]&lt;/li&gt; &lt;/ul&gt;</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cases-instance_method">
  
    #<strong>cases</strong>(filter = nil)  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of cases for this patient.</p>

<p>The optional filter can be used to restrict the cases that are returned. Valid values are: &lt;ul&gt; &lt;li&gt;<code>state</code> [Integer] one of:</p>

<pre class="code ruby"><code class="ruby">&lt;ul&gt;
&lt;li&gt;&lt;code&gt;0&lt;/code&gt; Prepare&lt;/li&gt;
&lt;li&gt;&lt;code&gt;1&lt;/code&gt; Open&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2&lt;/code&gt; Closed&lt;/li&gt;
&lt;li&gt;&lt;code&gt;3&lt;/code&gt; Cancelled&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>&lt;/li&gt; &lt;li&gt;<code>category_type</code> [Integer] one of:</p>

<pre class="code ruby"><code class="ruby">&lt;ul&gt;
&lt;li&gt;&lt;code&gt;0&lt;/code&gt; Generic&lt;/li&gt;
&lt;li&gt;&lt;code&gt;1&lt;/code&gt; DVA Community Nursing&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>&lt;/li&gt; &lt;li&gt;<code>category</code> [Integer] the ID of the category&lt;/li&gt; &lt;/ul&gt;</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>filter</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>of [Case]</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="country_of_birth_description-instance_method">
  
    #<strong>country_of_birth_description</strong>  &#x21d2; <tt>String</tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the name of the patient&#39;s country of birth.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if no country of birth recorded</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_letter-instance_method">
  
    #<strong>create_letter</strong>(options = {})  &#x21d2; <tt><span class='object_link'><a href="Letter.html" title="TriggerWrappers::Letter (class)">Letter</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a letter for this patient.</p>

<p>Valid parameters are: &lt;ul&gt; &lt;li&gt;<code>recipient</code> [String]&lt;/li&gt; &lt;li&gt;<code>letter_template</code> [LetterTemplate] or [String] optional letter template to use&lt;/li&gt; &lt;li&gt;<code>location</code> [Location] or [String] optional location to associate the letter to &lt;li&gt;<code>Provider</code> [Provider] or [String] optional provider to associate the letter to &lt;/ul&gt;</p>

<p>Recipient must be set to <code>patient</code> for sending a patient letter, or <code>referral</code> for sending a referral letter.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Make a draft letter to a patient</p>
</div></p>
      
      <pre class="example code"><code>var patient = assessment.current_assessment.patient
var letter = patient.create_letter({recipient: &#39;patient&#39;, letter_template: &#39;Template Name&#39;})
if (!letter) {
  script.fatal(&#39;Could not create patient letter&#39;)
}
letter.location = patient.location
letter.provider = patient.provider // the primary provider of the patient
// include text from an assessment&#39;s rich text field
letter.body = letter.body + assessment.text_field_abc
// create a followup due in a week&#39;s time
letter.create_followup(null, builder.date.today().add_days(7))
if (!letter.save()) {
  script.fatal(&#39;Could not save patient letter&#39;)
}</code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Make a draft referral letter, not from a template</p>
</div></p>
      
      <pre class="example code"><code>var letter2 = patient.create_letter({recipient: &#39;referral&#39;, location: patient.location, provider: patient.provider})
if (letter2) {
  letter2.description = &#39;My cool referral letter&#39;
  letter2.body = &#39;&lt;p&gt;Thank you for referring &#39; + patient.given_name + &#39; to our clinic.&lt;/p&gt;&#39;
  // include text from an assessment&#39;s rich text field
  letter2.body = letter2.body + assessment.text_field_abc
  if (!letter2.save()) {
    script.fatal(&#39;Could not save referral letter&#39;)
  }
}</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Letter.html" title="TriggerWrappers::Letter (class)">Letter</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_notice-instance_method">
  
    #<strong>create_notice</strong>(code)  &#x21d2; <tt><span class='object_link'><a href="AlertNotice.html" title="TriggerWrappers::AlertNotice (class)">AlertNotice</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new unsaved notice for this patient.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>code</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Notice code</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="AlertNotice.html" title="TriggerWrappers::AlertNotice (class)">AlertNotice</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the code is invalid</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_task-instance_method">
  
    #<strong>create_task</strong>(task_type_code)  &#x21d2; <tt><span class='object_link'><a href="Task.html" title="TriggerWrappers::Task (class)">Task</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a task for the patient.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>var task = this.patient.create_task(&#39;BILLING&#39;)
task.note = &#39;remember to do some billing stuff&#39;
task.location = this.patient.location

// create a followup to start tomorrow, due next week
task.start_date = builder.date.today().add_days(1)
task.due_date = task.start_date.add_days(6)

if (!task.save()) {
  script.fatal(&#39;save failed&#39;)
}</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>task_type_code</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the task type</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Task.html" title="TriggerWrappers::Task (class)">Task</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_admission-instance_method">
  
    #<strong>current_admission</strong>  &#x21d2; <tt><span class='object_link'><a href="Admission.html" title="TriggerWrappers::Admission (class)">Admission</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s current admission.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Admission.html" title="TriggerWrappers::Admission (class)">Admission</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if not currently admitted</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_age_in_years-instance_method">
  
    #<strong>current_age_in_years</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Calculates the patient&#39;s current age in years.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_assessments-instance_method">
  
    #<strong>current_assessments</strong>  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array containing CurrentAssessment class objects representing all the assessments attached to the patient record.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>of [CurrentAssessment]</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_episode-instance_method">
  
    #<strong>current_episode</strong>  &#x21d2; <tt><span class='object_link'><a href="Episode.html" title="TriggerWrappers::Episode (class)">Episode</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s current episode</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Episode.html" title="TriggerWrappers::Episode (class)">Episode</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the patient is not currently admitted</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="date_of_death_box_layout-instance_method">
  
    #<strong>date_of_death_box_layout</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="default_account_flag-instance_method">
  
    #<strong>default_account_flag</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s default account flag.  Returns an empty string if the patient doesn&#39;t have a default account flag.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="default_account_flag=-instance_method">
  
    #<strong>default_account_flag=</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the patient&#39;s default account flag to the named flag.  Use a blank string to remove a default account flag.</p>

<p>If the account flag is not enabled, the saving the patient will not succeed.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="display_name-instance_method">
  
    #<strong>display_name</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s name for display purposes.</p>

<p>The format will be like <code>Mr Firstname Middlename Lastname</code>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="display_sex-instance_method">
  
    #<strong>display_sex</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a text code of the patient&#39;s sex.</p>

<p>This will return <code>M</code>, <code>F</code>, <code>I</code> or an empty string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dob_box_layout-instance_method">
  
    #<strong>dob_box_layout</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="entitlements-instance_method">
  
    #<strong>entitlements</strong>(category_id = nil)  &#x21d2; <tt><span class='object_link'><a href="Entitlement.html" title="TriggerWrappers::Entitlement (class)">Entitlement</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Provide a list of Entitlements for the Patient</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>category_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Optional. Filter to only a specific category</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Entitlement.html" title="TriggerWrappers::Entitlement (class)">Entitlement</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>array</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="events-instance_method">
  
    #<strong>events</strong>(options = {})  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a list of unbilled events attached to this patient.</p>

<p>The <code>options</code> object can be provided to filter results with the following properties: &lt;ul&gt; &lt;li&gt;<code>from_date</code> [Date] only match items on or after this date&lt;/li&gt; &lt;li&gt;<code>to_date</code> [Date] only match items on or before this date&lt;/li&gt; provider&lt;/li&gt; &lt;/ul&gt;</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>of [Event]</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="express_form-instance_method">
  
    #<strong>express_form</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="CurrentAssessment.html" title="TriggerWrappers::CurrentAssessment (class)">CurrentAssessment</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Loads or creates an express form for the patient.</p>

<p>If the express form has not previously been created for the patient then a new instance is created with blank values.</p>

<p>If the express form has been created previously but was for an earlier version then an instance of the current version is returned.  Elements of the previous version will be copied if they also exist on the new version.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Using express forms</p>
</div></p>
      
      <pre class="example code"><code>var patient = assessment.current_assessment.patient

// load (or create) an form
var form = patient.express_form(&#39;FORMNAME&#39;)

// read values
var answer = form.instance.question;

// change answers
form.instance.question = &#39;new answer&#39;;

// if the form is saved, a new version will be created and the previous one will be archived
if (!form.save()) {
  script.fatal(&#39;could not save express form&#39;)
}</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>express form name</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CurrentAssessment.html" title="TriggerWrappers::CurrentAssessment (class)">CurrentAssessment</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fax_number-instance_method">
  
    #<strong>fax_number</strong>  &#x21d2; <tt>String</tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s fax number</p>

<p>Returns the fax number from the patient&#39;s home address record, if present</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><ul><li>
<p>if no record available</p>
</li></ul>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_notice-instance_method">
  
    #<strong>find_notice</strong>(code)  &#x21d2; <tt><span class='object_link'><a href="AlertNotice.html" title="TriggerWrappers::AlertNotice (class)">AlertNotice</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Find a notice on this patient by code.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>code</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Notice code</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="AlertNotice.html" title="TriggerWrappers::AlertNotice (class)">AlertNotice</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_or_build_patient_account-instance_method">
  
    #<strong>find_or_build_patient_account</strong>(location, guarantor, medical_provider, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_or_build_primary_health_fund-instance_method">
  
    #<strong>find_or_build_primary_health_fund</strong>(_fake_param_for_rubyracer)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the primary health fund if it exists, or builds a new one.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>HealthFund</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_or_create_patient_account-instance_method">
  
    #<strong>find_or_create_patient_account</strong>(location, guarantor, medical_provider, options = {})  &#x21d2; <tt><span class='object_link'><a href="PatientAccount.html" title="TriggerWrappers::PatientAccount (class)">PatientAccount</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finds a patient account, creating it if it doesn&#39;t already exists.  If a new account is created, it is saved then returned.</p>

<p>To find a private account, set <code>guarantor</code> to null.</p>

<p>The <code>options</code> object may contain the following keys: &lt;ul&gt; &lt;li&gt;<code>loan</code> [Boolean] - if true, a loan account will be returned.  <code>guarantor</code> must be set to null.&lt;/li&gt; &lt;li&gt;<code>flag</code> [String]&lt;/li&gt; &lt;li&gt;<code>minimum_benefit</code> [Boolean]&lt;/li&gt; &lt;li&gt;<code>gst_applicable</code> [Boolean]&lt;/li&gt; &lt;/ul&gt;</p>

<p>If <code>flag</code> is present in <code>options</code>, then the found/created account will have this account flag set.  Pass an empty string to force use of no account flag.</p>

<p>If <code>flag</code> is not present in <code>options</code>, then the account will have the same account flag as the default patient flag (which could be blank).</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Using account flags</p>
</div></p>
      
      <pre class="example code"><code>var location = finder.location.by_name(&#39;Clintel Clinic&#39;)
var medicare = finder.guarantor.medicare()
var provider = finder.provider.by_id(1)

// create an account, using whatever default account flag the patient has (if any)
var account = patient.find_or_create_patient_account(location, medicare, provider)

// create an account, specifically no account flag
var account = patient.find_or_create_patient_account(location, medicare, provider, { flag: &#39;&#39; })

// create an account with a specific account flag
var account = patient.find_or_create_patient_account(location, medicare, provider, { flag: &#39;Overseas&#39; })

// create an account with minimum benefits set
var account = patient.find_or_create_patient_account(location, medicare, provider, { minimum_benefit: true })

// create an account with gst applicable (all services are taxible supply) set
var account = patient.find_or_create_patient_account(location, medicare, provider, { gst_applicable: true })

// create an private account overriding the rate used for account (all services will use this rate as the price charged) set
// NOTE: only private accounts can override the rate used, Override Rate can be the wording RATEX or X where X is the Index field value in Rate Definitions
var account = patient.find_or_create_patient_account(location, null, provider, { override_rate: &#39;RATE1&#39; })
// This will override a private account to use the MBS 100% pricing</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>location</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Location.html" title="TriggerWrappers::Location (class)">Location</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or [ServiceLocation] or a location ID</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>guarantor</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Guarantor.html" title="TriggerWrappers::Guarantor (class)">Guarantor</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or a guarantor ID or null for a private account</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>medical_provider</span>
      
      
        <span class='type'>(<tt>MedialProvider</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or [StaffMember] or [Provider]</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="PatientAccount.html" title="TriggerWrappers::PatientAccount (class)">PatientAccount</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if an account was not found and could not be created</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_patient_account-instance_method">
  
    #<strong>find_patient_account</strong>(location, guarantor, medical_provider, options = {})  &#x21d2; <tt><span class='object_link'><a href="PatientAccount.html" title="TriggerWrappers::PatientAccount (class)">PatientAccount</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finds a patient account for the supplied provider/location/guarantor</p>

<p>To find a private account, set <code>guarantor</code> to null.</p>

<p>If you want to create an account when it doesn&#39;t exist, use <code>find_or_create_patient_account</code> instead.</p>

<p>The <code>options</code> object may contain the following keys: &lt;ul&gt; &lt;li&gt;<code>loan</code> [Boolean] - if true, a loan account will be returned.  <code>guarantor</code> must be set to null.&lt;/li&gt; &lt;li&gt;<code>flag</code> [String]&lt;/li&gt; &lt;/ul&gt;</p>

<p>If <code>flag</code> is present in <code>options</code>, then the found/created account will have this account flag set.  Pass an empty string to force use of no account flag.</p>

<p>If <code>flag</code> is not present in <code>options</code>, then the account will have the same account flag as the default patient flag (which could be blank).</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>var location = finder.location.by_name(&#39;Clintel Clinic&#39;)
var medicare = finder.guarantor.medicare()
var provider = finder.provider.by_id(1)

// find the patient account for these options
var account = patient.find_patient_account(location, medicare, provider)
if (account) {
  console.log(&#39;account exists&#39;)
} else {
  console.log(&#39;account does not exist&#39;)
}</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>location</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Location.html" title="TriggerWrappers::Location (class)">Location</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or [ServiceLocation] or a location ID</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>guarantor</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Guarantor.html" title="TriggerWrappers::Guarantor (class)">Guarantor</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or a guarantor ID or null for a private account</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>medical_provider</span>
      
      
        <span class='type'>(<tt>MedialProvider</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or [StaffMember] or [Provider]</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="PatientAccount.html" title="TriggerWrappers::PatientAccount (class)">PatientAccount</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if an account was not found</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_referral-instance_method">
  
    #<strong>find_referral</strong>(options = {})  &#x21d2; <tt><span class='object_link'><a href="Referral.html" title="TriggerWrappers::Referral (class)">Referral</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finds an in referral for this patient.  If there are multiple referrals, returns the one with the most recent expiry date.</p>

<p>Valid options: &lt;ul&gt; &lt;li&gt;<code>active</code> if true, select the newest referral that is active</p>

<pre class="code ruby"><code class="ruby">on the current date&lt;/li&gt;
</code></pre>

<p>&lt;li&gt;<code>active_on_date</code> [Date] if provided, select the newest referral</p>

<pre class="code ruby"><code class="ruby">that is activated and not expired on the given date&lt;/li&gt;
</code></pre>

<p>&lt;li&gt;<code>professional_contact</code> [ProfessionalContact] or the ID of</p>

<pre class="code ruby"><code class="ruby">a professional contact&lt;/li&gt;
</code></pre>

<p>&lt;li&gt;<code>provider</code> [Provider] or the ID of a provider, or [String]</p>

<pre class="code ruby"><code class="ruby">&lt;code&gt;&#39;none&#39;&lt;/code&gt; to explicitly find a referral without a provider
&lt;/li&gt;
</code></pre>

<p>&lt;li&gt;<code>type</code> [String] type of referral (default</p>

<pre class="code ruby"><code class="ruby">&lt;code&gt;In&lt;/code&gt;)&lt;/li&gt;
</code></pre>

<p>&lt;/ul&gt;</p>

<p>Valid types are: &lt;ul&gt; &lt;li&gt;<code>In</code>&lt;/li&gt; &lt;li&gt;<code>Out&lt;/code&lt;li&gt; &lt;li&gt;&lt;code&gt;LMO</code>&lt;/li&gt; &lt;li&gt;<code>Correspondence</code>&lt;/li&gt; &lt;/li&gt;</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Fine a current active referral in</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_var'>var</span> <span class='id identifier rubyid_referral'>referral</span> <span class='op'>=</span> <span class='id identifier rubyid_patient'>patient</span><span class='period'>.</span><span class='id identifier rubyid_find_referral'>find_referral</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>active:</span> <span class='kw'>true</span> <span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Find a referral in for professional contact 1</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_var'>var</span> <span class='id identifier rubyid_referral'>referral</span> <span class='op'>=</span> <span class='id identifier rubyid_patient'>patient</span><span class='period'>.</span><span class='id identifier rubyid_find_referral'>find_referral</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>professional_contact:</span> <span class='int'>1</span> <span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Find a referral in for provider 2</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_var'>var</span> <span class='id identifier rubyid_referral'>referral</span> <span class='op'>=</span> <span class='id identifier rubyid_patient'>patient</span><span class='period'>.</span><span class='id identifier rubyid_find_referral'>find_referral</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>provider:</span> <span class='int'>2</span> <span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Find a referral in without a provider</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_var'>var</span> <span class='id identifier rubyid_referral'>referral</span> <span class='op'>=</span> <span class='id identifier rubyid_patient'>patient</span><span class='period'>.</span><span class='id identifier rubyid_find_referral'>find_referral</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>provider:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Find the newest OUT referral</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_var'>var</span> <span class='id identifier rubyid_referral'>referral</span> <span class='op'>=</span> <span class='id identifier rubyid_patient'>patient</span><span class='period'>.</span><span class='id identifier rubyid_find_referral'>find_referral</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Out</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Find a referral that was active on a certain date</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_var'>var</span> <span class='id identifier rubyid_referra'>referra</span> <span class='op'>=</span> <span class='id identifier rubyid_patient'>patient</span><span class='period'>.</span><span class='id identifier rubyid_find_referral'>find_referral</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>active_on_date:</span> <span class='id identifier rubyid_date'>date</span> <span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Referral.html" title="TriggerWrappers::Referral (class)">Referral</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if no referral was found</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="guarantor-instance_method">
  
    #<strong>guarantor</strong>  &#x21d2; <tt><span class='object_link'><a href="Guarantor.html" title="TriggerWrappers::Guarantor (class)">Guarantor</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s guarantor.  This is the guarantor on the patient record, without reference to patient accounts.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Guarantor.html" title="TriggerWrappers::Guarantor (class)">Guarantor</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_active_referral-instance_method">
  
    #<strong>has_active_referral</strong>(medical_provider)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if the patient has a valid medical referral for this medical provider.</p>

<p>This checks for “in” referrals that are active and not disabled.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>medical_provider</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MedicalProvider.html" title="TriggerWrappers::MedicalProvider (class)">MedicalProvider</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>or ID of a medical provider</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_mailing_address-instance_method">
  
    #<strong>has_mailing_address</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if the patient has a postal address</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="healthcare_fund_commenced-instance_method">
  
    #<strong>healthcare_fund_commenced</strong>  &#x21d2; <tt><span class='object_link'><a href="Date.html" title="TriggerWrappers::Date (class)">Date</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the commenced date of patient primary health fund.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Date.html" title="TriggerWrappers::Date (class)">Date</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="healthcare_fund_cover-instance_method">
  
    #<strong>healthcare_fund_cover</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the fund cover of patient primary health fund.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="healthcare_fund_end_date-instance_method">
  
    #<strong>healthcare_fund_end_date</strong>  &#x21d2; <tt><span class='object_link'><a href="Date.html" title="TriggerWrappers::Date (class)">Date</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the end date of patient primary health fund.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Date.html" title="TriggerWrappers::Date (class)">Date</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="healthcare_fund_id-instance_method">
  
    #<strong>healthcare_fund_id</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the id of patient primary health fund.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="healthcare_fund_irn-instance_method">
  
    #<strong>healthcare_fund_irn</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the member irn of patient primary health fund.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="healthcare_fund_member_number-instance_method">
  
    #<strong>healthcare_fund_member_number</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the member number of patient primary health fund.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="healthcare_fund_notes-instance_method">
  
    #<strong>healthcare_fund_notes</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the notes of patient primary health fund.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="home_address-instance_method">
  
    #<strong>home_address</strong>  &#x21d2; <tt><span class='object_link'><a href="Address.html" title="TriggerWrappers::Address (class)">Address</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s home address.</p>

<p>If the patient doesn&#39;t have a home address, a new address record is created and filled with blank records.  It will be saved when the patient is saved.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Address.html" title="TriggerWrappers::Address (class)">Address</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="home_phone_number-instance_method">
  
    #<strong>home_phone_number</strong>  &#x21d2; <tt>String</tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s home phone number</p>

<p>The “Home Phone” field under “Contact Details” will be used if present. Otherwise, if the patient has a home address, its phone number will be used.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><ul><li>
<p>if no record available</p>
</li></ul>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_admitted-instance_method">
  
    #<strong>is_admitted</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if the patient is currently admitted</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="line_items-instance_method">
  
    #<strong>line_items</strong>(options = {})  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of invoice line items belonging to this patient.</p>

<p>By default this returns all line items for all invoices on all accounts. The <code>options</code> object can be provided to filter results with the following properties: &lt;ul&gt; &lt;li&gt;<code>from_date</code> [Date] only match items on or after this date&lt;/li&gt; &lt;li&gt;<code>to_date</code> [Date] only match items on or before this date&lt;/li&gt; &lt;li&gt;<code>medical_provider</code> [MedicalProvider] only match items for this medical provider&lt;/li&gt; &lt;li&gt;<code>provider</code> [Provider] only match items for this provider&lt;/li&gt; &lt;li&gt;<code>item_number</code> [String] only match items with this Item Number Service code&lt;/li&gt; &lt;/ul&gt;</p>

<p>OB (opening balance) and deleted lines are excluded.  The results are sorted by date.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>of [LineItem]</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="location-instance_method">
  
    #<strong>location</strong>  &#x21d2; <tt><span class='object_link'><a href="Location.html" title="TriggerWrappers::Location (class)">Location</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s location.  Note that this is a property of the patient record, not necessarily related to the location of any admissions.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Location.html" title="TriggerWrappers::Location (class)">Location</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if no location recorded</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mobile_phone_number-instance_method">
  
    #<strong>mobile_phone_number</strong>  &#x21d2; <tt>String</tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s mobile phone number</p>

<p>The “Mobile Phone” field under “Contact Details” will be used if present. Otherwise, if the patient has a home address, its mobile number will be used.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><ul><li>
<p>if no record available</p>
</li></ul>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="occupation_description-instance_method">
  
    #<strong>occupation_description</strong>  &#x21d2; <tt>String</tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the description of the patient&#39;s occupation.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if no occupation recorded</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="patient_accounts-instance_method">
  
    #<strong>patient_accounts</strong>  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of accounts belonging to this patient.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>of [PatientAccount]</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="person-instance_method">
  
    #<strong>person</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="TriggerWrappers::Patient (class)">Patient</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the person record for this patient - this contains things like the patient&#39;s first and last name and so on.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="TriggerWrappers::Patient (class)">Patient</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="postal_address-instance_method">
  
    #<strong>postal_address</strong>  &#x21d2; <tt><span class='object_link'><a href="Address.html" title="TriggerWrappers::Address (class)">Address</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s postal address.</p>

<p>If the patient doesn&#39;t have a postal address, a new address record is created and filled with blank records.  It will be saved when the patient is saved.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Address.html" title="TriggerWrappers::Address (class)">Address</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="provider-instance_method">
  
    #<strong>provider</strong>  &#x21d2; <tt><span class='object_link'><a href="Provider.html" title="TriggerWrappers::Provider (class)">Provider</a></span></tt>, <tt>null</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the patient&#39;s primary provider.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Provider.html" title="TriggerWrappers::Provider (class)">Provider</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>null</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if not primary provider recorded</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_dob-instance_method">
  
    #<strong>pt_dob</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_mcare_no-instance_method">
  
    #<strong>pt_mcare_no</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_mcare_ref_no-instance_method">
  
    #<strong>pt_mcare_ref_no</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_numb-instance_method">
  
    #<strong>pt_numb</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_phone-instance_method">
  
    #<strong>pt_phone</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_postcode-instance_method">
  
    #<strong>pt_postcode</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a single line postal postcode.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_res_postcode-instance_method">
  
    #<strong>pt_res_postcode</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the home postcode.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_res_state-instance_method">
  
    #<strong>pt_res_state</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the home state.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_res_street-instance_method">
  
    #<strong>pt_res_street</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a single line home address.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_res_town-instance_method">
  
    #<strong>pt_res_town</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the home suburb.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_state-instance_method">
  
    #<strong>pt_state</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a single line postal state.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_street-instance_method">
  
    #<strong>pt_street</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a single line postal address.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_town-instance_method">
  
    #<strong>pt_town</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a single line postal suburb.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pt_vet_number-instance_method">
  
    #<strong>pt_vet_number</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="record_measurement-instance_method">
  
    #<strong>record_measurement</strong>(metric_name, value1, value2, value3, value4)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Records a measurement for this patient.  The measurement date will be set to the current time.</p>

<p>Raises an error if the metric cannot be found or is not enabled. Returns true if the measurement is recorded Returns false if the measurement cannot be recorded, for example the value is not in the allowed range or a value is missing.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="send_letter-instance_method">
  
    #<strong>send_letter</strong>(location, letter_template, send)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="send_sms-instance_method">
  
    #<strong>send_sms</strong>(location, message_type, date = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sends an SMS to the patient.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>location</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Location.html" title="TriggerWrappers::Location (class)">Location</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>message_type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>code of the message type to send. Must exist in the &#39;Patient SMS&#39; category</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>date</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DateTime.html" title="TriggerWrappers::DateTime (class)">DateTime</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>optional time to send the message; defaults to current time</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the operation was successful</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_facility-instance_method">
  
    #<strong>set_facility</strong>(location)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the facility (location) on the patient record.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>location</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Location.html" title="TriggerWrappers::Location (class)">Location</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="share_assessment_to_patient-instance_method">
  
    #<strong>share_assessment_to_patient</strong>(assessment_name, share_method, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>if (patient.share_assessment_to_patient(“sample_assessmnet”, “Email”)){</p>

<pre class="code ruby"><code class="ruby">  alert(&quot;Assessment shared&quot;);
}else{
  script.fatal(&#39;Error share assessment&#39;);
}
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>assessment_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>share_method</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>true or false</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sms_consent-instance_method">
  
    #<strong>sms_consent</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if the patient is allowed to be contacted by SMS for clinical correspondence.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="suggest_assessment-instance_method">
  
    #<strong>suggest_assessment</strong>(name, version = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds the named assessment to the current patient object as a suggested assessment. If no version is specified then the highest published and enabled version of the assessment is added to the patient.</p>

<p>Note the suggested assessment is not saved and will only be saved if the patient object saves successfully.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the suggested instance was added successfully</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="suggested_assessments-instance_method">
  
    #<strong>suggested_assessments</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>version method.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Sep  9 11:24:40 2024 by
  
</div>

    </div>
  </body>
</html>